<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:local="clr-namespace:DigitalScoreboard"
             x:DataType="local:ScoreboardViewModel"
             x:Class="DigitalScoreboard.ScoreboardPage"
             BackgroundColor="Black">

     <ContentPage.Resources>
        <ResourceDictionary>
            <Style x:Key="Team" TargetType="Label">
                <Setter Property="TextColor" Value="White" />
            </Style>

            <Style x:Key="Title" TargetType="Label">
                <Setter Property="TextColor" Value="White" />
            </Style>

            <Style x:Key="Info" TargetType="Label">
                <Setter Property="FontFamily" Value="{Binding Font}" />
                <Setter Property="TextColor" Value="Yellow" />
            </Style>
        </ResourceDictionary>
    </ContentPage.Resources>

    <ContentPage.Content>
        <Grid RowDefinitions="Auto, Auto, Auto"
              ColumnDefinitions="1*, 2*, 1*">
            <VerticalStackLayout Grid.Column="0"
                                 Grid.Row="0">
                <Label Text="{Binding HomeTeamName}"
                       Style="{StaticResource Team}" />

                <Label Text="{Binding HomeTeamScore}"
                       Style="{StaticResource Info}">
                    <Label.GestureRecognizers>
                        <TapGestureRecognizer Command="{Binding SetHomeScore}" />
                    </Label.GestureRecognizers>
                </Label>

                <Label Text="{Binding HomeTeamTimeouts}"
                       Style="{StaticResource Info}">
                    <Label.GestureRecognizers>
                        <TapGestureRecognizer Command="{Binding DecrementHomeTimeout}" />
                    </Label.GestureRecognizers>
                </Label>
            </VerticalStackLayout>

            <Frame BorderColor="White"
                   BackgroundColor="Black"
                   Grid.Column="1"
                   Grid.Row="0">
                <Label Text="{Binding PeriodClock, Converter={StaticResource TimeSpan}}"
                       Style="{StaticResource Info}">
                    <Label.GestureRecognizers>
                        <TapGestureRecognizer Command="{Binding TogglePeriodClock}" />
                    </Label.GestureRecognizers>
                </Label>
            </Frame>

            <VerticalStackLayout Grid.Column="2"
                                 Grid.Row="0">
                <Label Text="{Binding AwayTeamName}"
                       Style="{StaticResource Team}" />

                <Label Text="{Binding AwayTeamScore}"
                       Style="{StaticResource Info}">
                    <Label.GestureRecognizers>
                        <TapGestureRecognizer Command="{Binding SetAwayScore}" />
                    </Label.GestureRecognizers>
                </Label>

                <Label Text="{Binding AwayTeamTimeouts}"
                       Style="{StaticResource Info}">
                    <Label.GestureRecognizers>
                        <TapGestureRecognizer Command="{Binding DecrementAwayTimeout}" />
                    </Label.GestureRecognizers>
                </Label>
            </VerticalStackLayout>


            <HorizontalStackLayout Grid.ColumnSpan="3"
                                   Grid.Row="1">
                <Label Text="&lt;"
                       IsVisible="{Binding HomeTeamPossession}"
                       Style="{StaticResource Info}">
                    <Label.GestureRecognizers>
                        <TapGestureRecognizer Command="{Binding TogglePossession}" />
                    </Label.GestureRecognizers>
                </Label>

                <Label Text="{Binding PlayClock}"
                       Style="{StaticResource Info}">
                    <Label.GestureRecognizers>
                        <TapGestureRecognizer Command="{Binding TogglePlayClock}" />
                    </Label.GestureRecognizers>
                </Label>

                <Label Text="&gt;"
                       IsVisible="{Binding HomeTeamPossession, Converter={StaticResource Not}}"
                       Style="{StaticResource Info}">
                    <Label.GestureRecognizers>
                        <TapGestureRecognizer Command="{Binding TogglePossession}" />
                    </Label.GestureRecognizers>
                </Label>
            </HorizontalStackLayout>

            <HorizontalStackLayout Grid.ColumnSpan="3"
                                   Grid.Row="2">
                <VerticalStackLayout>
                    <Label Text="QTR"
                           Style="{StaticResource Title}" />

                    <Label Text="{Binding Period}"
                           Style="{StaticResource Info}">
                        <Label.GestureRecognizers>
                            <TapGestureRecognizer Command="{Binding IncrementPeriod}" />
                        </Label.GestureRecognizers>
                    </Label>
                </VerticalStackLayout>

                <VerticalStackLayout>
                    <Label Text="DOWN"
                           Style="{StaticResource Title}" />

                    <Label Text="{Binding Down}"
                           Style="{StaticResource Info}">
                        <Label.GestureRecognizers>
                            <TapGestureRecognizer Command="{Binding IncrementDown}" />
                        </Label.GestureRecognizers>
                    </Label>
                </VerticalStackLayout>

                <VerticalStackLayout>
                    <Label Text="YTG"
                           Style="{StaticResource Title}" />

                    <Label Text="{Binding YardsToGo}"
                           Style="{StaticResource Info}">
                        <Label.GestureRecognizers>
                            <TapGestureRecognizer Command="{Binding SetYardsToGo}" />
                        </Label.GestureRecognizers>
                    </Label>
                </VerticalStackLayout>
            </HorizontalStackLayout>
        </Grid>
    </ContentPage.Content>
</ContentPage>